.crm-container{padding:20px}.crm-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}.actions-row{display:flex;gap:8px;align-items:center}.filters-row{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:12px}.filters-row input,.filters-row select{padding:8px;border:1px solid #e5e7eb;border-radius:8px}
.btn{background:#2563eb;color:#fff;border:none;border-radius:8px;padding:8px 12px;cursor:pointer}.btn.ghost{background:#eef2ff;color:#1e40af}.btn.danger{background:#ef4444}
.table-wrapper{overflow:auto;border:1px solid #e5e7eb;border-radius:12px;background:#fff;max-height:70vh}
.crm-table thead th{position:sticky;top:0;background:#fff;z-index:1;border-bottom:1px solid #e2e8f0}
.crm-table tbody tr:nth-child(odd){background:#fafafa}
.crm-table tbody tr:hover{background:#f1f5ff}
.crm-table{width:100%;border-collapse:separate;border-spacing:0}.crm-table th,.crm-table td{padding:10px;border-bottom:1px solid #f1f5f9;text-align:left}
.row-actions .table-action{background:#f8fafc;border:1px solid #e5e7eb;border-radius:8px;padding:6px 10px;color:#1e40af;margin-right:6px;cursor:pointer;box-shadow:0 2px 6px rgba(0,0,0,.04)}
.row-actions .table-action:hover{background:#eef2ff}
.row-actions .danger{color:#ef4444;border-color:#fecaca;background:#fff5f5}
.crm-table select{padding:6px 8px;border:1px solid #e5e7eb;border-radius:8px;background:#fff}
.skeleton{height:64px;background:linear-gradient(90deg,#f1f5f9 25%,#e5e7eb 37%,#f1f5f9 63%);background-size:400% 100%;animation:s 1.2s ease-in-out infinite}@keyframes s{0%{background-position:100% 50%}100%{background-position:0 50%}}
.badge{display:inline-block;padding:4px 8px;border-radius:999px;background:#e5e7eb;color:#111827;font-size:12px}
.badge.clickable{cursor:pointer}
.badge.badge-neutral{background:#f1f5f9;color:#475569}
.badge-success{background:#d1fae5;color:#065f46}
.badge-warning{background:#fff7ed;color:#92400e}
.pill-toggle{border:none;border-radius:999px;padding:4px 10px;cursor:pointer}
.pill-toggle.hot{background:#fee2e2;color:#b91c1c}
.pill-toggle.cold{background:#e2e8f0;color:#334155}
.stage-new{background:#dcfce7}.stage-contacted{background:#e0f2fe}.stage-demo-scheduled{background:#ede9fe}.stage-negotiation{background:#fef9c3}.stage-won{background:#d1fae5}.stage-lost{background:#fee2e2}
.inv-paid{background:#e8f7ee;color:#1a7f37}.inv-partial{background:#fff5e6;color:#9a6700}.inv-pending{background:#ffe6e6;color:#ae2e24}
.type-call{background:#dbeafe}.type-note{background:#e2e8f0}.type-meeting{background:#fef3c7}
.tabs{display:flex;gap:8px;margin:12px 0}.tab{background:#eef2ff;border:none;border-radius:999px;padding:8px 12px;color:#1e40af;cursor:pointer}.tab.active{background:#1e40af;color:#fff}
/* Overview grid defaults */
.overview-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}
/* Leads header summary: force 4->3->2->1 columns responsively */
.crm-header{flex-direction:column;align-items:stretch;gap:8px}
.crm-header .overview-grid{grid-template-columns:repeat(4,minmax(0,1fr));width:100%}
@media (max-width:1200px){.crm-header .overview-grid{grid-template-columns:repeat(3,minmax(0,1fr))}}
@media (max-width:800px){.crm-header .overview-grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
@media (max-width:500px){.crm-header .overview-grid{grid-template-columns:1fr}}
.status-card{background:#fff;border:1px solid #e5e7eb;border-radius:14px;padding:14px;box-shadow:0 6px 20px rgba(0,0,0,.05)}
.status-head{display:flex;justify-content:space-between;align-items:center}
.status-count{display:flex;gap:6px;align-items:center}
.progress{height:8px;background:#eef2ff;border-radius:999px;margin-top:8px;overflow:hidden}
.progress-inner{height:100%;border-radius:999px;background:#2563eb}
.progress.red{background:#fee2e2}.progress-inner.red{background:#ef4444}
.progress.slate{background:#e2e8f0}.progress-inner.slate{background:#475569}
.activity-form{display:grid;gap:8px;margin-bottom:16px}.activity-list{list-style:none;padding:0;margin:0}.activity-list li{padding:8px;border:1px solid #e5e7eb;border-radius:8px;margin-bottom:8px}
.timeline{list-style:none;padding:0;margin:0}.timeline li{padding:12px;border-left:3px solid #e5e7eb;margin-left:8px}
.kanban{display:grid;grid-template-columns:repeat(6,1fr);gap:12px}
.kanban-col{background:#f8fafc;border:1px solid #e5e7eb;border-radius:12px;min-height:240px;display:flex;flex-direction:column}
.kanban-col-header{padding:8px 12px;border-bottom:1px solid #e2e8f0;border-top-left-radius:12px;border-top-right-radius:12px;font-weight:600}
.kanban-col-body{padding:10px;display:flex;flex-direction:column;gap:10px}
.kanban-card{background:#fff;border:1px solid #e5e7eb;border-radius:10px;padding:10px;cursor:grab}
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:50}
.modal{background:#fff;border-radius:12px;min-width:320px;max-width:720px;width:90%}
.modal-header,.modal-footer{padding:12px 16px;border-bottom:1px solid #f1f5f9;display:flex;align-items:center;justify-content:space-between}
.modal-footer{border-top:1px solid #f1f5f9;border-bottom:none}
.modal-body{padding:16px;display:grid;gap:10px}
.close{background:transparent;border:none;font-size:22px;cursor:pointer}
.item-row{display:grid;grid-template-columns:1fr 80px 120px;gap:8px}
.grid-two{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.totals{display:flex;gap:12px;align-items:center;justify-content:flex-end}.grand-total{font-weight:700}
.form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
.form-grid label{display:grid;gap:6px}
.form-grid input,.form-grid textarea,.form-grid select{padding:8px;border:1px solid #e5e7eb;border-radius:8px}
.settings-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px}
.card{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:12px;box-shadow:0 2px 10px rgba(0,0,0,.04)}
/* Drawer reused from purchases */
.ph-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.35);opacity:0;pointer-events:none;transition:opacity .2s;z-index:59}
.ph-backdrop.show{opacity:1;pointer-events:auto}
.ph-drawer{position:fixed;top:0;right:-520px;width:500px;max-width:96vw;height:100vh;background:#fff;border-left:1px solid #eee;box-shadow:-4px 0 16px rgba(0,0,0,.08);transition:right .25s;display:flex;flex-direction:column;z-index:60}
.ph-drawer.open{right:0}
.ph-drawer-header{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid #eee}
.ph-close{border:0;background:#f5f5f5;border-radius:8px;width:32px;height:32px}
.ph-drawer-body{padding:12px 16px;flex:1;overflow:auto}
.meta-json{background:#0B1221;color:#e5e7eb;padding:8px;border-radius:8px;margin-top:8px;overflow:auto;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-size:12px}
.pagination{display:flex;align-items:center;justify-content:center;gap:12px;margin:10px 0}
.muted{color:#6b7280;font-size:12px}
.ph-banner{background:#fff7ed;color:#9a6700;border:1px solid #ffedd5;padding:8px 12px;border-radius:10px;margin-bottom:10px}
.stage-select{padding:6px 8px;border:1px solid #e5e7eb;border-radius:8px;background:#fff}
.filters-row{display:flex;flex-wrap:wrap;gap:8px;margin:8px 0}
.filter-pill{padding:8px 12px;border:1px solid #e5e7eb;border-radius:999px;background:#fff;min-height:36px}
.apply-btn{border-radius:999px}
.text-center{text-align:center}
@media (max-width:640px){.filters-row{flex-direction:column;align-items:stretch}}
